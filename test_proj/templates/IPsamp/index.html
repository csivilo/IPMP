<!DOCTYPE HTML>
{% load staticfiles %}
<html>
    <title>IPMP</title>
    <head>
        <link rel="stylesheet" href='{%  static "js/webix/codebase/webix.css" %}' type="text/css">
        <script src="{%  static 'js/webix/codebase/webix.js' %}" type="text/javascript"></script>
        <script src="{%  static 'js/library.js' %}" type="text/javascript"></script>
        <script src="{%  static 'js/jquery-3.0.0.js' %}" type="text/javascript">

        </script>
    </head>
    
    <body>
    <script type="text/javascript" charset="utf-8">

        var data_points = [
            { id: 1, time_input: 0, conc_input:null},
            { id: 2, time_input: 1, conc_input:null},
            { id: 3, time_input: 2, conc_input:null},
            { id: 4, time_input: 3, conc_input:null},
            { id: 5, time_input: 4, conc_input:null},
            { id: 6, time_input: 5, conc_input:null},
            { id: 7, time_input: 6, conc_input:null},
            { id: 8, time_input: 7, conc_input:null},
            { id: 9, time_input: 8, conc_input:null}
        ]

        webix.ui({
            rows:[
                {view: "toolbar", height: 60, id:"main_toolbar", elements:[
                {view:"button", value:"Open", width:80 /*, click:file_options*/},
                {view:"button", value:"Paste", width:80 /* ,click:ipmp_disclaim*/},
                {view:"menu", data:[
                    {id: "models", value: "Models", width:200, height: 60, submenu:[
                        {id: "inc_models", value: "Incomplete", submenu:["Sub models"]},
                        {id: "full_models", value: "Full", submenu:[
                            {id: "gompertz", value: "Gompertz", click: "plotModel('gompertz')"},
                            {id: "huang", value: "Huang", click: "plotModel('huang')"},
                            {id: "baranyi", value: "Baranyi", click: "plotModel('baranyi')"},
                            {id: "buchanan", value: "Buchanan", click: "plotModel('buchanan')"},
                        ]},
                   ]}
               ]},
               {view: "button" ,width:150, align: "right", value: "Plot"},
               {view: "button", width:150, align: "right", value: "Model Output"}
               ]},
                {cols:[
                    {rows:[
                        {view: "datatable",
                        id: "input_table",
                        columns: [
                           {id: "time_input", editor: "text", header: "Time", width: 120},
                           {id: "conc_input", editor: "text", header: "Conc.", width: 100}],
                        editable: true,
                        height:250,
                        width:250,
                        data: data_points
                        },

                        {view: "toolbar", id:"toolbar", elements:[
                            {view:"button", value:"Submit Data", width:100 , click:"computeData()"},
                            {view:"button", value:"Clear Data", width:100 , click:"clearData()"},

                        ]},
                        {rows:[
						    {view:"form", id:"slider_input", height: 160,elements:[
                                { view:"slider",  height: 20, type:"alt", min:0, max:5, label:"N0(0-5)", value:"0", name:"s1"},
                                { view:"slider", height: 20, type:"alt", min:0, max:9, label:"NMax(0-9)", value:"0", name:"s2"},
                                { view:"slider", height: 20, type:"alt", min:0, max:5, label:"Rate(0-5)", value:"0", name:"s3"},
                                { view:"slider", height: 20, type:"alt",  label:"Time", value:"0", name:"s4"},
                                { view:"slider", height: 20, type:"alt",  label:"M", value:"0", name:"s5"}
						    ]},
						    {view:"form", id:"insert_input", elements:[{
                                type: "clean",
                                rows: [
                                    {
                                        view: "fieldset", label: "Data", body: {
                                        rows: [
                                            {view: "text", id: "nO", label: "N0", value: "0", name: "s1"},
                                            {view: "text", id: "nmax", label: "NMax", value: "0", name: "s2"},
                                            {view: "text", id: "rate", label: "Rate", value: "0", name: "s3"},
                                            {view: "text", id: "time", label: "Time", value: "0", name: "s4"},
                                            {view: "text", id: "m", label: "M", value: "0", name: "s5"},
                                        ]
                                    }
                                    },
                                    {
                                        cols: [

                                            {
                                                view: "button",
                                                type: "form",
                                                id: "slider_set",
                                                label: "Set values",
                                                click: "set(); getData()",
                                                align: "right",
                                                width: 90
                                            },
                                            {
                                                view: "button",
                                                id: "slider_get",
                                                label: "Get values",
                                                click: "get(); getData()",
                                                align: "left",
                                                width: 90,
                                            },
                                        ]
                                    },
                                    {
                                        view: "button",
                                        type: "form",
                                        id: "model_submit",
                                        label: "Model Submit",
                                        click: "",
                                    },
                                ]
                            }]
                            },

                        ]}
                    ]},
                    {rows:[
                        {view:"chart",
                        id: "data_chart",
                        type:"spline",
                        yValue:"#conc_input#",
                        origin: 0,
                        yAxis:{
                            title:"Log Concentration of Bacteria"
                        },
                        xAxis:{
                            title:"Time (h)",
                            template: "#time_input#",
                        },
                        line:{
                            color: "#1293f8"
                        },
                        item:{
                            radius:.01,
                            color:"#1293f8",
                            type:"c",
                            shadow:false
                        },
                        data: data_points,

                        isVisible:false,
                        },

                        {view: "toolbar", elements:[
                            {view: "button", width: 100, align: "right",  label: "Save Report",  },
                            {view: "button", width: 100, align: "right",   label: "Print Report", }
                        ]},
                        {view: "datatable",
                            id:"output_table",
                            columns: [
                               {id: "report_table", header: "Report", },
                            ],
                            editable: false,

                        }
                    ]}

                ]}
            ]
        });



    </script>
    </body>
</html>
